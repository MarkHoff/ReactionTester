<!doctype html?
<html>
<head>
    <title>Learning Javascript</title>
    
    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
#box {
	width: 100px;
	height: 100px;	
	border: 1px solid red;
	position: relative;
	background-color: red;	
    display: none;
}
</style>
</head

<body>
<p>Attempts: <span id="attempts"></span></p>
<p>Your reaction time is: <span id="time"></span></p>
<!-- <p>Total reaction time: <span id="totaltime"></span></p> -->
<p>Average reaction time: <span id="averagetime"></span></p>
<button id="start" onclick="startGame()">Start Game</button>
    <div id="box"></div>
        


<script type="text/javascript">
var clickedTime;
var createdTime;
var reactionTime;
var averageTime;
var totalTime;
var attempts;
var color = "red";
var top = 0;
var left = 0;
var i = 0;
   
function startGame() {
clickedTime = 0;
createdTime = 0;
reactionTime = 0;
averageTime = 0;
totalTime = 0;
attempts = 0;
i = 1;
document.getElementById("time").innerHTML = " ";
//document.getElementById("totaltime").innerHTML = " ";
document.getElementById("attempts").innerHTML = " ";
document.getElementById("averagetime").innerHTML = " ";

    makeBox();
            document.getElementById("box").onclick=function() {
                clickedTime = Date.now();
                reactionTime = (clickedTime - createdTime)/1000;
                //reactionTime = reactionTime.toFixed(2);
                document.getElementById("attempts").innerHTML = i;
                document.getElementById("time").innerHTML = reactionTime.toFixed(2);
                this.style.display="none";
                    totalTime = totalTime + reactionTime;
                    averageTime = totalTime/i;
                    i++;
                if(i <= 3) {
                    makeBox();
                    
                } else {
                    //document.getElementById("totaltime").innerHTML = totalTime;
                    document.getElementById("averagetime").innerHTML = averageTime.toFixed(2);
                };
            };
};


    function makeBox() {
        var time = Math.random();
        time = time * 4000;
		var top = Math.random();
		top = top * 300;
		var left = Math.random();
		left = left * 400;
            setTimeout(function() {
                    color = getRandomColor();
                    document.getElementById("box").style.top = top + "px";
                    document.getElementById("box").style.left = left + "px";
                    document.getElementById("box").style.borderRadius = getRandomShape();
                    document.getElementById("box").style.backgroundColor = color;
                    document.getElementById("box").style.borderColor = color;
                    document.getElementById("box").style.display = "block";
                    createdTime = Date.now();
            }, time);
        };

	function getRandomColor() {
	    var letters = '0123456789ABCDEF'.split('');
	    var color = '#';
	    for (var i = 0; i < 6; i++ ) {
	        color += letters[Math.floor(Math.random() * 16)];
	    };
	    return color;
	};
	
	function getRandomShape() {
		
		var shape = Math.random();
		shape = shape * 10;
		shape = Math.floor(shape);
		if (shape % 2 == 0) {
			return "0px";
		} else {
			return "50px";
		};
	};

</script>

</body>